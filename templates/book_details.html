<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
<<<<<<< HEAD
    <title>Book Alchemy</title>
=======
    <title>Book Library</title>
>>>>>>> b43b0d5f54deb0a1d2187be5d36d26574a8578eb
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
          integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" rel="stylesheet">
    <link href="{{ url_for('static', filename='CSS/style.css') }}" rel="stylesheet">
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-light bg-primary">
    <a href="/user/books/{{ user_id }}" style="text-decoration:none; border:none; border-radius:10px; padding:5px;">
        <h1 style="color:pink; display:flex; margin-left:500px;text-align:center;">Book Library</h1>
    </a>
</nav>

<div class="book-details" style="display:flex;">
    <ul style="display:flex;flex-wrap: wrap;">
        <div style="margin: 10px;">
            <span>
                <img src="{{ book.book_cover }}" style="height: 300px; width: 250px; object-fit: cover;"/>
            </span>
            <h3 style="text-align:center;margin:20px; color:blue;font-size:20px;">
                <mark>Publication Year</mark>: {{ book.publication_year }}
            </h3>

        </div>
    </ul>

    <div style="width:60%;margin:20px;">
        <h3 style="text-align: center; color:red;font-size:50px; overflow: hidden; text-overflow: ellipsis;">
            {{ book.title }}
        </h3>
        <h4 style="text-align:center;color:#999">{{ book.author.name }}</h4>
        <p>{{ book.description }}</p>

        <div class="container wrapper">
            <h2 style="text-align: center; color:black;font-size:30px;">Rating and Reviews</h2>
            <form action="/add_review/{{ user_id }}/{{ book.book_id }}">
<<<<<<< HEAD
                <input class="container" style="margin-top:20px;
                 background-color: orange; border-radius: 5px; border: None;"
                       type="submit" value="Write a Review">
=======
                <input class="container" style="margin-top:20px; background-color: orange; border-radius: 5px; border: None;" type="submit" value="Write a Review">
>>>>>>> b43b0d5f54deb0a1d2187be5d36d26574a8578eb
            </form>

            <hr/>

            <h5>Displaying <b style="color:red;">{{ length }}</b> reviews </h5>
            {% for review in reviews %}
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-body">
                                <h3>{{ review.user.name }}</h3>
                                <p>{{ review.review_text }}</p>
                                <h5>{{ review.rating }}</h5>
                                <a href="/review_delete/{{ review.review_id }}">
        <button style="margin:5px;margin-bottom:20px; color:purple;padding:5px;
         border-radius:10px;border:none;">
            Delete
        </button>
    </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<div style="display:flex; justify-content:space-around;">
    <a href="/user/{{user_id }}/book_update/{{book.book_id}}">
        <button class="bg-light" style="margin:5px;margin-bottom:20px; color:red;
                    border-radius:10px;border:none;padding:5px;">
                    Update Book Details
            </button>
    </a>
    <a href="/user/books/{{ user_id }}">
        <button style="margin:5px;margin-bottom:20px; color:purple;padding:5px; border-radius:10px;border:none;">
            Back to <em><b>{{ user.name }}</b></em>Â´s Books
        </button>
    </a>
    <form id="delete-form" action="/book_delete/{{ user_id }}/{{ book.book_id }}" >
        <input class="bg-alert" style="margin:5px;margin-bottom:20px;
         color:red; border-radius:10px;border:none;padding:5px;"
               type="submit" value="Delete">
    </form>
    <a href="/logout" id="login"
       style="margin-bottom: 50px; margin-left: 50px;text-align:center; color: red; background-color: #ff69b4; border: 2px solid #ff69b4; border-radius: 5px; cursor: pointer;">Sign
        out</a>
</div>

<script src="{{ url_for('static', filename='JS/bookDetails.js') }}"></script>

</body>
</html>
